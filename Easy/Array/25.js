/*
=============================================================================================================================
üìå Problem: ‚ÄúChunk an array into smaller arrays of given size‚Äù ?
=============================================================================================================================
ü§î ‡¶è‡¶∞ ‡¶Æ‡¶æ‡¶®‡ßá ‡¶ï‡ßÄ?

‡¶§‡ßã‡¶Æ‡¶æ‡¶ï‡ßá
1Ô∏è‚É£ ‡¶è‡¶ï‡¶ü‡¶æ array ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶π‡¶¨‡ßá
2Ô∏è‚É£ ‡¶Ü‡¶∞‡ßá‡¶ï‡¶ü‡¶æ number (size) ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶π‡¶¨‡ßá

‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶ú ‡¶π‡¶≤‡ßã üëâ
‡¶¨‡ßú array ‡¶ü‡¶æ‡¶ï‡ßá ‡¶≠‡ßá‡¶ô‡ßá ‡¶õ‡ßã‡¶ü ‡¶õ‡ßã‡¶ü array ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã,
‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶æ ‡¶õ‡ßã‡¶ü array-‡¶è‡¶∞ size ‡¶π‡¶¨‡ßá ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶æ‡¶®‡•§

üß† ‡¶∏‡¶π‡¶ú ‡¶≠‡¶æ‡¶∑‡¶æ‡ßü ‡¶≠‡¶æ‡¶¨‡ßã

‡¶ß‡¶∞‡ßã,
‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶Ö‡¶®‡ßá‡¶ï‡¶ó‡ßÅ‡¶≤‡ßã ‡¶ï‡¶≤‡¶Æ ‡¶Ü‡¶õ‡ßá (array)
‡¶Ü‡¶∞ ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶ö‡¶æ‡¶ì ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶¨‡¶æ‡¶ï‡ßç‡¶∏‡ßá ‡ß®‡¶ü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶ï‡¶≤‡¶Æ ‡¶∞‡¶æ‡¶ñ‡¶§‡ßá (size = 2)

üëâ ‡¶§‡¶æ‡¶π‡¶≤‡ßá ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶ï‡¶≤‡¶Æ‡¶ó‡ßÅ‡¶≤‡ßã‡¶ï‡ßá ‡ß®‡¶ü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶≠‡¶æ‡¶ó ‡¶ï‡¶∞‡ßá ‡¶¨‡¶æ‡¶ï‡ßç‡¶∏‡ßá ‡¶∞‡¶æ‡¶ñ‡¶¨‡ßá‡•§

üì¶ Example ‡¶¶‡¶ø‡ßü‡ßá ‡¶¨‡ßÅ‡¶ù‡¶ø

‡¶ß‡¶∞‡ßã:

Array: [1, 2, 3, 4, 5, 6, 7]

Size: 3

‡¶è‡¶ñ‡¶® ‡¶ï‡ßÄ ‡¶π‡¶¨‡ßá?

üëâ ‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡ß©‡¶ü‡¶æ ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá
üëâ ‡¶™‡¶∞‡ßá‡¶∞ ‡ß©‡¶ü‡¶æ ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá
üëâ ‡¶∂‡ßá‡¶∑‡ßá ‡¶Ø‡¶æ ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶•‡¶æ‡¶ï‡¶¨‡ßá, ‡¶∏‡ßá‡¶ü‡¶æ‡¶ì ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá

‡¶´‡¶≤‡¶æ‡¶´‡¶≤ ‡¶ß‡¶æ‡¶∞‡¶£‡¶æ ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡¶π‡¶¨‡ßá ‡¶è‡¶Æ‡¶®:

[1, 2, 3]

[4, 5, 6]

[7]

üëâ ‡¶∂‡ßá‡¶∑‡ßá‡¶∞‡¶ü‡¶æ ‡ß©‡¶ü‡¶æ ‡¶®‡¶æ ‡¶π‡¶≤‡ßá‡¶ì ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶®‡ßá‡¶á
üëâ ‡¶Ø‡¶æ ‡¶Ü‡¶õ‡ßá ‡¶§‡¶æ‡¶á ‡¶®‡¶ø‡ßü‡ßá ‡¶è‡¶ï‡¶ü‡¶æ chunk ‡¶¨‡¶æ‡¶®‡¶æ‡¶§‡ßá ‡¶π‡¶¨‡ßá

‚ö†Ô∏è Important ‡¶¨‡¶ø‡¶∑‡ßü‡¶ó‡ßÅ‡¶≤‡ßã

Array-‡¶è‡¶∞ order ‡¶¨‡¶¶‡¶≤‡¶æ‡¶®‡ßã ‡¶Ø‡¶æ‡¶¨‡ßá ‡¶®‡¶æ

Size ‡¶Ø‡¶§ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶Ü‡¶õ‡ßá, ‡¶§‡¶§‡¶ó‡ßÅ‡¶≤‡ßã ‡¶ï‡¶∞‡ßá ‡¶≠‡¶æ‡¶ó ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá

‡¶∂‡ßá‡¶∑ chunk ‡¶õ‡ßã‡¶ü ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá

Empty array ‡¶π‡¶≤‡ßá result ‡¶ì empty ‡¶π‡¶¨‡ßá

üß† Real life analogy (‡¶Æ‡¶æ‡¶•‡¶æ‡ßü ‡¶¨‡¶∏‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø)

‡¶õ‡¶æ‡¶§‡ßç‡¶∞‡¶¶‡ßá‡¶∞ ‡¶≤‡¶æ‡¶á‡¶®‡ßá ‡¶¶‡¶æ‡¶Å‡ßú ‡¶ï‡¶∞‡¶æ‡¶ì ‚Üí ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶¨‡ßá‡¶û‡ßç‡¶ö‡ßá ‡ß® ‡¶ú‡¶®

‡¶¨‡¶á‡¶ó‡ßÅ‡¶≤‡ßã ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ü ‡¶ï‡¶∞‡ßã ‚Üí ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ü‡ßá ‡ß´‡¶ü‡¶æ

API data ‚Üí pagination (‡¶™‡ßç‡¶∞‡¶§‡¶ø page-‡¶è 10 item)

üéØ ‡¶è‡¶ï ‡¶≤‡¶æ‡¶á‡¶®‡ßá problem ‡¶ü‡¶æ

üëâ ‡¶è‡¶ï‡¶ü‡¶æ ‡¶¨‡ßú array ‡¶ï‡ßá ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü size ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡¶õ‡ßã‡¶ü ‡¶õ‡ßã‡¶ü array-‡¶è ‡¶≠‡¶æ‡¶ó ‡¶ï‡¶∞‡¶æ‡¶á ‡¶π‡¶≤‡ßã ‚Äúchunk an array‚Äù

*/

/*
===============================================================================
CHUNK AN ARRAY INTO SMALLER ARRAYS OF GIVEN SIZE
FULL CODE (BEGINNER FRIENDLY)
‡¶∏‡¶¨‡¶ï‡¶ø‡¶õ‡ßÅ JS MULTILINE DOC ‡¶è‡¶∞ ‡¶≠‡¶ø‡¶§‡¶∞‡ßá
===============================================================================

--------------------------------
PROBLEM
--------------------------------
‡¶è‡¶ï‡¶ü‡¶æ ‡¶¨‡ßú array ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶•‡¶æ‡¶ï‡¶¨‡ßá
‡¶è‡¶¨‡¶Ç ‡¶è‡¶ï‡¶ü‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü size ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶•‡¶æ‡¶ï‡¶¨‡ßá

‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ï‡¶æ‡¶ú:
‡¶¨‡ßú array ‡¶ü‡¶æ‡¶ï‡ßá ‡¶≠‡ßá‡¶ô‡ßá
‡¶õ‡ßã‡¶ü ‡¶õ‡ßã‡¶ü array ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã,
‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶æ ‡¶õ‡ßã‡¶ü array-‡¶è‡¶∞ length ‡¶π‡¶¨‡ßá size ‡¶è‡¶∞ ‡¶∏‡¶Æ‡¶æ‡¶®
(‡¶∂‡ßá‡¶∑‡¶ü‡¶æ ‡¶õ‡ßã‡¶ü ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá)

--------------------------------
FUNCTION CODE
--------------------------------
*/

const chunkArray = (arr, size) => {

   if (!Array.isArray(arr) || arr.length === 0) return []

   if (size <= 0) return []

   let result = []

   /*
   üëâ result ‡¶è‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá
   üëâ ‡¶∏‡¶¨ ‡¶õ‡ßã‡¶ü ‡¶õ‡ßã‡¶ü chunk array ‡¶ú‡¶Æ‡¶æ ‡¶π‡¶¨‡ßá
   */

   for (let i = 0; i < arr.length; i += size) {
      /*
      üëâ i ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶¨‡¶æ‡¶∞ size ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ ‡¶ï‡¶∞‡ßá ‡¶¨‡¶æ‡ßú‡¶¨‡ßá
      üëâ ‡¶Ø‡ßá‡¶Æ‡¶® size = 3 ‡¶π‡¶≤‡ßá
      üëâ i = 0, 3, 6, 9 ...
      */

      let chunk = arr.slice(i, i + size)
      /*
      üëâ slice ‡¶¶‡¶ø‡ßü‡ßá array ‡¶è‡¶∞ ‡¶Ö‡¶Ç‡¶∂ ‡¶ï‡¶æ‡¶ü‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá
      üëâ i ‡¶•‡ßá‡¶ï‡ßá ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßá i + size ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§
      */

      result.push(chunk)
      /*
      üëâ ‡¶ï‡¶æ‡¶ü‡¶æ chunk ‡¶ü‡¶æ‡¶ï‡ßá result ‡¶è ‡¶¢‡ßÅ‡¶ï‡¶æ‡¶®‡ßã ‡¶π‡¶ö‡ßç‡¶õ‡ßá
      */
   }

   return result
}

/*
--------------------------------
FUNCTION CALL (TEST)
--------------------------------
*/

const numbers = [1, 2, 3, 4, 5, 6, 7]
const output = chunkArray(numbers, 3)
console.log(output)

/*
--------------------------------
OUTPUT
--------------------------------

[
  [1, 2, 3],
  [4, 5, 6],
  [7]
]

--------------------------------
IMPORTANT NOTES
--------------------------------

‚úî Order ‡¶†‡¶ø‡¶ï ‡¶•‡¶æ‡¶ï‡ßá
‚úî Last chunk ‡¶õ‡ßã‡¶ü ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá
‚úî O(n) time complexity
‚úî Real-life use: pagination, batching data

===============================================================================
*/
/*
===============================================================================
SOLUTION 2 ‚Äî PUSH + LENGTH CHECK (BEGINNER FRIENDLY LOGIC)
===============================================================================

FUNCTION CODE
*/

const chunkArrayCustom = (arr, size) => {

   if (!Array.isArray(arr) || arr.length === 0) return []
   if (size <= 0) return []

   let result = []
   let tempChunk = []
   // tempChunk ‡¶¶‡¶ø‡ßü‡ßá ‡¶è‡¶ï‡¶ü‡¶æ‡¶∞ ‡¶™‡¶∞ ‡¶è‡¶ï‡¶ü‡¶æ element ‡¶ú‡¶Æ‡¶æ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶¨‡ßá

   for (let item of arr) {

      tempChunk.push(item)
      // element tempChunk ‡¶è ‡¶¢‡ßÅ‡¶ï‡¶æ‡¶®‡ßã ‡¶π‡¶ö‡ßç‡¶õ‡ßá

      if (tempChunk.length === size) {
         // ‡¶Ø‡¶ñ‡¶® tempChunk ‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡ßü
         result.push(tempChunk)
         // result ‡¶è ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡ßü

         tempChunk = []
         // ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶®‡¶§‡ßÅ‡¶® chunk ‡¶∂‡ßÅ‡¶∞‡ßÅ
      }
   }

   // ‡¶Ø‡¶¶‡¶ø ‡¶∂‡ßá‡¶∑‡ßá ‡¶ï‡¶ø‡¶õ‡ßÅ element ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶•‡¶æ‡¶ï‡ßá
   if (tempChunk.length > 0) {
      result.push(tempChunk)
   }

   return result
}

/*
HOW IT WORKS (‡¶∏‡¶π‡¶ú‡¶≠‡¶æ‡¶¨‡ßá)

arr = [1,2,3,4,5,6,7]
size = 3

tempChunk = [1,2,3] ‚Üí result ‡¶è ‡¶ó‡ßá‡¶≤
tempChunk = [4,5,6] ‚Üí result ‡¶è ‡¶ó‡ßá‡¶≤
tempChunk = [7]     ‚Üí ‡¶∂‡ßá‡¶∑‡ßá result ‡¶è ‡¶ó‡ßá‡¶≤

===============================================================================
FUNCTION CALL (TEST)
===============================================================================
*/

const numbers2 = [1, 2, 3, 4, 5, 6, 7]

console.log(chunkArrayCustom(numbers2, 3))

/*
OUTPUT (‡¶¶‡ßÅ‡¶ü‡¶æ‡¶∞‡¶á ‡¶è‡¶ï‡¶á)

[
  [1, 2, 3],
  [4, 5, 6],
  [7]
]

===============================================================================
INTERVIEW NOTES
===============================================================================

‚úî Solution 1: Short, clean, modern
‚úî Solution 2: Logic ‡¶¨‡ßã‡¶ù‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø best
‚úî Time Complexity: O(n)
‚úî Order ‡¶†‡¶ø‡¶ï ‡¶•‡¶æ‡¶ï‡ßá
‚úî Last chunk ‡¶õ‡ßã‡¶ü ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá

===============================================================================
*/